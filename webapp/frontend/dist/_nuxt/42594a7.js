(window.webpackJsonp=window.webpackJsonp||[]).push([[13,8,12,14,16,21],{244:function(t,e,n){"use strict";n.r(e);var l=n(0).a.extend({props:{color:{type:String,default:"plain"},type:{type:String,default:"button"},disabled:{type:Boolean,default:!1}},computed:{colorType:function(){return"primary"===this.color?["bg-primary-500","text-white"]:["bg-white","border-primary-500","text-primary-500"]}}}),o=n(20),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("button",{staticClass:"\n    py-2\n    px-6\n    border\n    rounded\n    disabled:bg-gray-400\n    disabled:text-white\n    disabled:border-gray-400\n    disabled:cursor-default\n  ",class:t.colorType,attrs:{type:t.type,disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Button:n(244).default})},245:function(t,e,n){"use strict";n.r(e);var l=n(0).a.extend({}),o=n(20),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"bg-white shadow-lg px-6 py-4"},[t._t("default")],2)}),[],!1,null,null,null);e.default=component.exports},246:function(t,e,n){"use strict";n.r(e);var l=n(0).a.extend({props:{isShown:{type:Boolean,default:!1}},computed:{state:function(){return this.isShown?"block":"hidden"}}}),o=n(20),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"fixed z-10 inset-0 overflow-y-auto",class:t.state,attrs:{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"}},[n("div",{staticClass:"\n      flex\n      items-end\n      justify-center\n      min-h-screen\n      pt-4\n      px-4\n      pb-20\n      text-center\n      sm:block sm:p-0\n    "},[n("div",{staticClass:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",attrs:{"aria-hidden":"true"},on:{click:function(e){return t.$emit("close")}}}),t._v(" "),n("span",{staticClass:"hidden sm:inline-block sm:align-middle sm:h-screen",attrs:{"aria-hidden":"true"}},[t._v("​")]),t._v(" "),n("div",{staticClass:"\n        inline-block\n        align-bottom\n        bg-white\n        rounded-lg\n        text-left\n        overflow-hidden\n        shadow-xl\n        transform\n        transition-all\n        sm:my-8 sm:align-middle sm:max-w-4xl sm:w-full\n      "},[t._t("default")],2)])])}),[],!1,null,null,null);e.default=component.exports},247:function(t,e,n){"use strict";n.r(e);var l=n(0).a.extend({name:"CloseIcon",props:{classes:{type:Array,required:!1,default:function(){return[]}}}}),o=n(20),component=Object(o.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"fill-current h-6 w-6",class:t.classes,attrs:{role:"button",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},on:{click:function(e){return t.$emit("click")}}},[n("title",[t._v("Close")]),t._v(" "),n("path",{attrs:{d:"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z"}})])}),[],!1,null,null,null);e.default=component.exports},249:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(68);function l(title){var body=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";"Notification"in window?"granted"===Notification.permission?o(title,body):Notification.requestPermission().then((function(t){"granted"===t&&o(title,body)})):console.log("This browser does not support notifications")}function o(title,body){var t={};body&&(t.body=body);var e=new Notification(title,t);setTimeout(e.close.bind(e),4e3)}},268:function(t,e,n){"use strict";n.r(e);n(67),n(179),n(37),n(11),n(27),n(38),n(21),n(29),n(39),n(40),n(28);var l=n(0),o=n(249),r=n(245),c=n(246),d=n(247);function f(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return m(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,l=function(){};return{s:l,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return r=t.done,t},e:function(t){c=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(c)throw o}}}}function m(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var h=l.a.extend({name:"SubmitModal",components:{Card:r.default,Modal:c.default,CloseIcon:d.default},props:{isShown:{type:Boolean,default:!1,required:!0},courseName:{type:String,required:!0},classTitle:{type:String,required:!0},classId:{type:String,required:!0}},data:function(){return{files:[],failed:!1}},computed:{title:function(){return"".concat(this.classTitle," 課題提出")},description:function(){return"これは科目 ".concat(this.courseName," の授業 ").concat(this.classTitle," の課題提出フォームです。 ")}},methods:{onFileChanged:function(t){if(t.target instanceof HTMLInputElement&&null!==t.target.files)for(var e=t.target.files,i=0;i<e.length;i++)this.files.push(e.item(i))},removeFile:function(t){this.files.splice(t,1)},upload:function(){var t,e=this,n=new FormData,l=f(this.files);try{for(l.s();!(t=l.n()).done;){var r=t.value;n.append("file",r)}}catch(t){l.e(t)}finally{l.f()}this.$axios.post("/api/courses/".concat(this.$route.params.id,"/classes/").concat(this.classId,"/assignment"),n).then((function(){Object(o.a)("課題の提出が完了しました"),e.$emit("submitted"),e.close()})).catch((function(){Object(o.a)("課題の提出に失敗しました"),e.showAlert()}))},close:function(){this.files=[],this.hideAlert(),this.$emit("close")},showAlert:function(){this.failed=!0},hideAlert:function(){this.failed=!1}}}),v=n(20),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Modal",{attrs:{"is-shown":t.isShown},on:{close:function(e){return t.$emit("close")}}},[n("Card",[n("p",{staticClass:"text-2xl text-black font-bold flex justify-center mb-4"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"mb-4"},[n("p",[t._v(t._s(t.description))]),t._v(" "),n("p",[t._v("提出先の課題や提出ファイルが正しいか確認してください。")])]),t._v(" "),n("div",{staticClass:"flex justify-center items-center mb-4"},[n("span",{staticClass:"text-black text-base font-bold mr-2"},[t._v("提出ファイル")]),t._v(" "),n("label",{staticClass:"\n          mr-2\n          w-auto\n          rounded-md\n          border border-transparent\n          shadow-sm\n          px-4\n          py-2\n          bg-primary-500\n          text-center\n          cursor-pointer\n        "},[n("span",{staticClass:"text-sm font-medium text-white"},[t._v("ファイル選択")]),t._v(" "),n("input",{staticClass:"hidden",attrs:{type:"file"},on:{change:t.onFileChanged}})]),t._v(" "),t.files.length>0?[n("div",{staticClass:"flex flex-col justify-center overflow-x-scroll"},t._l(t.files,(function(e,l){return n("div",{key:e.name,staticClass:"flex flex-row items-center text-black text-base"},[n("span",{staticClass:"mr=2"},[t._v(t._s(e.name))]),n("CloseIcon",{on:{click:function(e){return t.removeFile(l)}}})],1)})),0)]:[n("span",{staticClass:"text-black text-base"},[t._v("ファイルが選択されていません")])]],2),t._v(" "),t.failed?n("div",{staticClass:"\n        bg-red-100\n        border border-red-400\n        text-red-700\n        px-4\n        py-3\n        rounded\n        relative\n      ",attrs:{role:"alert"}},[n("strong",{staticClass:"font-bold"},[t._v("エラー")]),t._v(" "),n("span",{staticClass:"block sm:inline"},[t._v("課題の提出に失敗しました")]),t._v(" "),n("span",{staticClass:"absolute top-0 bottom-0 right-0 px-4 py-3"},[n("CloseIcon",{attrs:{classes:["text-red-500"]},on:{click:t.hideAlert}})],1)]):t._e(),t._v(" "),n("div",{staticClass:"px-4 py-3 flex justify-center"},[n("button",{staticClass:"\n          mr-2\n          w-auto\n          rounded-md\n          border border-primary-500\n          shadow-sm\n          px-4\n          py-2\n          bg-white\n          text-sm\n          font-medium\n          text-primary-500\n        ",attrs:{type:"button"},on:{click:t.close}},[t._v("\n        閉じる\n      ")]),t._v(" "),n("button",{staticClass:"\n          w-auto\n          rounded-md\n          border border-transparent\n          shadow-sm\n          px-4\n          py-2\n          bg-primary-500\n          text-sm\n          font-medium\n          text-white\n        ",attrs:{type:"button"},on:{click:t.upload}},[t._v("\n        提出\n      ")])])])],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{CloseIcon:n(247).default,Button:n(244).default,Card:n(245).default,Modal:n(246).default})},279:function(t,e,n){"use strict";n.r(e);n(67),n(11),n(21),n(28),n(178);var l=n(0),o=n(245),r=n(268),c=l.a.extend({name:"ClassInfo",components:{Card:o.default,SubmitModal:r.default},props:{course:{type:Object,required:!0},classinfo:{type:Object,required:!0}},data:function(){return{showModal:!1}},computed:{classTitle:function(){return"第".concat(this.classinfo.part,"回 ").concat(this.classinfo.title)},submissionStatus:function(){return this.classinfo.submitted?"提出済み":this.classinfo.submissionClosed?"締切済み":"受付中"},submissionDisabled:function(){return this.classinfo.submitted||this.classinfo.submissionClosed}},methods:{openModal:function(){this.showModal=!0},closeModal:function(){this.showModal=!1},download:function(t,data){var link=document.createElement("a");link.href=window.URL.createObjectURL(data),link.download=t,link.click()}}}),d=n(20),component=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"mt-2"},[n("Card",[n("div",{staticClass:"mb-8 flex flex-col justify-between leading-normal"},[n("p",{staticClass:"text-2xl text-primary-500 font-bold flex items-center"},[t._v("\n          "+t._s(t.classTitle)+"\n        ")]),t._v(" "),n("p",{staticClass:"text-black text-base mb-4"},[t._v(t._s(t.classinfo.description))]),t._v(" "),n("div",{staticClass:"flex flex-row items-center"},[n("Button",{attrs:{disabled:t.submissionDisabled},on:{click:t.openModal}},[t._v("\n            課題を提出する\n          ")]),t._v(" "),n("div",{staticClass:"text-neutral-300 text-sm ml-4"},[t._v("\n            締め切り："+t._s(t.submissionStatus)+"\n          ")])],1)])])],1),t._v(" "),n("SubmitModal",{attrs:{"is-shown":t.showModal,"course-name":t.course.name,"class-title":t.classinfo.title,"class-id":t.classinfo.id},on:{submitted:function(e){return t.$emit("submitted")},close:t.closeModal}})],1)}),[],!1,null,null,null);e.default=component.exports;installComponents(component,{Button:n(244).default,Card:n(245).default,SubmitModal:n(268).default})}}]);